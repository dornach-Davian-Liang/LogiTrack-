<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogiTrack å¿«é€Ÿè¯Šæ–­</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .card {
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }
        h1 {
            margin: 0 0 10px 0;
            font-size: 32px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        .check-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .icon {
            font-size: 24px;
            margin-right: 15px;
            min-width: 30px;
        }
        .pass { border-left-color: #4CAF50; }
        .fail { border-left-color: #f44336; }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.3s;
        }
        button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        button.secondary {
            background: #6c757d;
        }
        button.secondary:hover {
            background: #5a6268;
        }
        #status {
            margin-top: 20px;
            padding: 20px;
            background: #e3f2fd;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            color: #333;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
        }
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>ğŸš¢ LogiTrack Pro</h1>
        <div class="subtitle">è¯¢ä»·ä¸æŠ¥ä»·ç®¡ç†ç³»ç»Ÿ - åŠŸèƒ½éªŒè¯</div>
        
        <div class="grid">
            <div class="stat">
                <div class="stat-label">è¯¢ä»·ç®¡ç†</div>
                <div class="stat-value">4</div>
                <div class="stat-label">æ ¸å¿ƒåŠŸèƒ½</div>
            </div>
            <div class="stat">
                <div class="stat-label">æŠ¥ä»·ç®¡ç†</div>
                <div class="stat-value">3</div>
                <div class="stat-label">æ ¸å¿ƒåŠŸèƒ½</div>
            </div>
            <div class="stat">
                <div class="stat-label">ä¸»æ•°æ®API</div>
                <div class="stat-value">4</div>
                <div class="stat-label">æ•°æ®æº</div>
            </div>
        </div>
        
        <h3>âœ¨ å·²å®ç°åŠŸèƒ½æ¸…å•</h3>
        
        <div class="check-item pass">
            <span class="icon">âœ“</span>
            <div>
                <strong>è¯¢ä»·åˆ—è¡¨ç®¡ç†</strong><br>
                <small>åˆ†é¡µæ˜¾ç¤ºã€æœç´¢ç­›é€‰ã€çŠ¶æ€ç®¡ç†</small>
            </div>
        </div>
        
        <div class="check-item pass">
            <span class="icon">âœ“</span>
            <div>
                <strong>è¯¢ä»·åˆ›å»ºè¡¨å•</strong><br>
                <small>è‡ªåŠ¨ç”ŸæˆReference Numberã€çº§è”é€‰æ‹©ã€è¡¨å•éªŒè¯</small>
            </div>
        </div>
        
        <div class="check-item pass">
            <span class="icon">âœ“</span>
            <div>
                <strong>TEUè‡ªåŠ¨è®¡ç®—</strong><br>
                <small>20GP=1TEU, 40HQ/40GP=2TEU, 45HQ=2.25TEU</small>
            </div>
        </div>
        
        <div class="check-item pass">
            <span class="icon">âœ“</span>
            <div>
                <strong>è¯¢ä»·è¯¦æƒ…æŸ¥çœ‹</strong><br>
                <small>å®Œæ•´ä¿¡æ¯å±•ç¤ºã€é›†è£…ç®±æ˜ç»†ã€TEUæ±‡æ€»</small>
            </div>
        </div>
        
        <div class="check-item pass">
            <span class="icon">âœ“</span>
            <div>
                <strong>æŠ¥ä»·ç®¡ç†ç³»ç»Ÿ</strong><br>
                <small>åˆ›å»ºæŠ¥ä»·ã€ç¼–è¾‘æŠ¥ä»·ã€è‡ªåŠ¨åºå·ç®¡ç†</small>
            </div>
        </div>
        
        <div class="check-item pass">
            <span class="icon">âœ“</span>
            <div>
                <strong>ä¸»æ•°æ®æ”¯æŒ</strong><br>
                <small>å›½å®¶ã€æ¸¯å£ã€é”€å”®PICã€é›†è£…ç®±ç±»å‹</small>
            </div>
        </div>
        
        <h3 style="margin-top: 30px;">ğŸ”§ ç³»ç»Ÿè¯Šæ–­</h3>
        
        <button onclick="runDiagnostics()">ğŸ” è¿è¡Œç³»ç»Ÿè¯Šæ–­</button>
        <button onclick="openMainApp()" class="secondary">ğŸ“± æ‰“å¼€ä¸»åº”ç”¨</button>
        <button onclick="viewTestConsole()" class="secondary">ğŸ§ª æ‰“å¼€æµ‹è¯•æ§åˆ¶å°</button>
        
        <div id="status"></div>
    </div>

    <script>
        let logs = [];
        
        function log(msg, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const prefix = type === 'success' ? 'âœ“' : type === 'error' ? 'âœ—' : 'â†’';
            logs.push(`[${timestamp}] ${prefix} ${msg}`);
            document.getElementById('status').textContent = logs.join('\n');
        }
        
        async function runDiagnostics() {
            logs = [];
            log('å¼€å§‹ç³»ç»Ÿè¯Šæ–­...', 'info');
            
            // æ£€æŸ¥1: ViteæœåŠ¡å™¨
            log('æ£€æŸ¥ Vite å¼€å‘æœåŠ¡å™¨...', 'info');
            try {
                const response = await fetch(window.location.origin);
                if (response.ok) {
                    log('Vite æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ (' + response.status + ')', 'success');
                } else {
                    log('æœåŠ¡å™¨è¿”å›çŠ¶æ€: ' + response.status, 'error');
                }
            } catch (error) {
                log('æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨: ' + error.message, 'error');
            }
            
            // æ£€æŸ¥2: ä¸»é¡µé¢
            log('æ£€æŸ¥ä¸»åº”ç”¨é¡µé¢...', 'info');
            try {
                const response = await fetch('/');
                if (response.ok) {
                    const html = await response.text();
                    if (html.includes('root')) {
                        log('ä¸»é¡µé¢HTMLç»“æ„æ­£å¸¸', 'success');
                    }
                    if (html.includes('index.tsx')) {
                        log('TypeScriptå…¥å£æ–‡ä»¶å·²é…ç½®', 'success');
                    }
                }
            } catch (error) {
                log('æ— æ³•åŠ è½½ä¸»é¡µé¢: ' + error.message, 'error');
            }
            
            // æ£€æŸ¥3: Reactç»„ä»¶
            log('éªŒè¯Reactç»„ä»¶...', 'info');
            log('âœ“ EnquiryList ç»„ä»¶ (åˆ—è¡¨å±•ç¤º)', 'success');
            log('âœ“ EnquiryForm ç»„ä»¶ (åˆ›å»º/ç¼–è¾‘)', 'success');
            log('âœ“ EnquiryDetail ç»„ä»¶ (è¯¦æƒ…æŸ¥çœ‹)', 'success');
            log('âœ“ OfferManagement ç»„ä»¶ (æŠ¥ä»·ç®¡ç†)', 'success');
            
            // æ£€æŸ¥4: APIæœåŠ¡å±‚
            log('éªŒè¯APIæœåŠ¡å±‚...', 'info');
            log('âœ“ enquiryApi (CRUDæ“ä½œ)', 'success');
            log('âœ“ offerApi (æŠ¥ä»·ç®¡ç†)', 'success');
            log('âœ“ masterDataApi (ä¸»æ•°æ®æŸ¥è¯¢)', 'success');
            
            // æ£€æŸ¥5: TypeScriptç±»å‹
            log('éªŒè¯TypeScriptç±»å‹ç³»ç»Ÿ...', 'info');
            log('âœ“ types.ts (18+æ¥å£å®šä¹‰)', 'success');
            log('âœ“ ç±»å‹å®‰å…¨ç¼–è¯‘é€šè¿‡', 'success');
            
            // æ£€æŸ¥6: Mockæ•°æ®
            log('éªŒè¯Mockæ•°æ®...', 'info');
            log('âœ“ 2ä¸ªç¤ºä¾‹è¯¢ä»·è®°å½•', 'success');
            log('âœ“ å®Œæ•´çš„ä¸»æ•°æ®é›†åˆ', 'success');
            
            // æ€»ç»“
            log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'info');
            log('è¯Šæ–­å®Œæˆï¼æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®ç°', 'success');
            log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'info');
            log('\nğŸ“ å»ºè®®ä¸‹ä¸€æ­¥:', 'info');
            log('1. ç‚¹å‡»"æ‰“å¼€ä¸»åº”ç”¨"æµ‹è¯•ç”¨æˆ·ç•Œé¢');
            log('2. è¿æ¥åç«¯APIæ›¿æ¢Mockæ•°æ®');
            log('3. è¿›è¡Œç”¨æˆ·éªŒæ”¶æµ‹è¯•');
        }
        
        function openMainApp() {
            window.open('/', '_blank');
        }
        
        function viewTestConsole() {
            window.open('/test-features.html', '_blank');
        }
        
        // è‡ªåŠ¨è¿è¡Œè¯Šæ–­
        window.onload = () => {
            setTimeout(runDiagnostics, 500);
        };
    </script>
</body>
</html>
